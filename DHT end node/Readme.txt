RFM-MQTT-DHT Release 2.1 

changed the way binary inputs behave. 
A message is sent at every state change, ON or OFF depending on the state of the binary input.
This end node will function with gateway V2.2.

See description of Gateway 2.2 on how to configure binary inputs in openhab.



RFM-MQTT-DHT Release 2.0 

by Computourist@gmail.com Feb 2015

This node talks to the MQTT-Gateway and will:
 - send sensor data periodically and on-demand
 - receive commands from the gateway to control actuators
 - receive commands from the gateway to change settings

 Several nodes can operate within a single network; each have a unique node ID.
 On startup the node operates with default values, set on compilation.

 Hardware used is a 3.3 Volt 8MHz arduino Pro; this is easier to interface to RFM69 

 A DHT-11 is used for temperature & humidity measurements, other sensors and outputs can be added easily.

 Message format is: nodeID/deviceID/command/integer/float/string

 Depending on the type of data (integer, float or string) one of the payload variables is used
 Command = 0 means write a value in the node, cmd = 1 means read a value 

 Current defined devices are:

	0	uptime:			read uptime node in minutes
	1	node:			read/set transmission interval in seconds, 0 means no periodic transmission
	2	RSSI:			read radio signal strength
	3	Version:		read version node software
	4	voltage:		read battery level
	5	ACK:			read/set acknowledge message after a 'set' request
	6	toggle:			read/set toggle function on button press
	7	timer:			read/set activation timer after button press in seconds, 0 means no timer
	
	16	actuator:		read/set LED or relay output
	40	Button:			tx only: message sent when button pressed
	48	temperature:		read temperature
	49	humidity:		read humidity
	90	error:			tx only: error message if no wireless connection (generated by gateway)
	92	error:			tx only: device not supported
	99	wakeup:			tx only: first message sent on node startup

 	The button can be set to:
	- generate a message on each press (limited to one per 10 seconds) and/or
	- toggle the output ACT1 (local node function) or
	- activate the output for a fixed time period (local node function)

	A debug mode is included which outputs messages on the serial output

	RFM69 Library by Felix Rusu - felix@lowpowerlab.com
	Get the RFM69 library at: https://github.com/LowPowerLab/
